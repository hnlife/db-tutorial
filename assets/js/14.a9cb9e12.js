(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{354:function(t,s,a){"use strict";a.r(s);var e=a(4),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sql-语法高级特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql-语法高级特性"}},[t._v("#")]),t._v(" SQL 语法高级特性")]),t._v(" "),s("blockquote",[s("p",[t._v("本文针对关系型数据库的基本语法。限于篇幅，本文侧重说明用法，不会展开讲解特性、原理。")]),t._v(" "),s("p",[t._v("本文语法主要针对 Mysql，但大部分的语法对其他关系型数据库也适用。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/dev/snap/20200115160512.png",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"连接和组合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接和组合"}},[t._v("#")]),t._v(" 连接和组合")]),t._v(" "),s("h3",{attrs:{id:"连接-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接-join"}},[t._v("#")]),t._v(" 连接（JOIN）")]),t._v(" "),s("blockquote",[s("p",[t._v("连接用于连接多个表，使用 "),s("code",[t._v("JOIN")]),t._v(" 关键字，并且条件语句使用 "),s("code",[t._v("ON")]),t._v(" 而不是 "),s("code",[t._v("WHERE")]),t._v("。")])]),t._v(" "),s("p",[t._v("如果一个 "),s("code",[t._v("JOIN")]),t._v(" 至少有一个公共字段并且它们之间存在关系，则该 "),s("code",[t._v("JOIN")]),t._v(" 可以在两个或多个表上工作。")]),t._v(" "),s("p",[s("code",[t._v("JOIN")]),t._v(" 保持基表（结构和数据）不变。"),s("strong",[t._v("连接可以替换子查询，并且比子查询的效率一般会更快")]),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("JOIN")]),t._v(" 有两种连接类型：内连接和外连接。")]),t._v(" "),s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/dev/cs/database/mysql/sql-join.png",alt:"sql-join"}})]),t._v(" "),s("h4",{attrs:{id:"内连接-inner-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内连接-inner-join"}},[t._v("#")]),t._v(" 内连接（INNER JOIN）")]),t._v(" "),s("p",[t._v("内连接又称等值连接，"),s("strong",[t._v("使用 "),s("code",[t._v("INNER JOIN")]),t._v(" 关键字")]),t._v("。在没有条件语句的情况下"),s("strong",[t._v("返回笛卡尔积")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" vend_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prod_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prod_price\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" vendors "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INNER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" products\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" vendors"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vend_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" products"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vend_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"自连接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自连接"}},[t._v("#")]),t._v(" 自连接（"),s("code",[t._v("=")]),t._v("）")]),t._v(" "),s("p",[t._v("自连接可以看成内连接的一种，只是"),s("strong",[t._v("连接的表是自身")]),t._v("而已。"),s("strong",[t._v("自然连接是把同名列通过 "),s("code",[t._v("=")]),t._v(" 连接起来")]),t._v("的，同名列可以有多个。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" c1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_contact\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" customers c1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" customers c2\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" c1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_name\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" c2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_contact "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jim Jones'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"自然连接-natural-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自然连接-natural-join"}},[t._v("#")]),t._v(" 自然连接（NATURAL JOIN）")]),t._v(" "),s("p",[t._v("内连接提供连接的列，而自然连接"),s("strong",[t._v("自动连接所有同名列")]),t._v("。自然连接使用 "),s("code",[t._v("NATURAL JOIN")]),t._v(" 关键字。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Products\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("NATURAL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" Customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"外连接-outer-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#外连接-outer-join"}},[t._v("#")]),t._v(" 外连接（OUTER JOIN）")]),t._v(" "),s("p",[t._v("外连接返回一个表中的所有行，并且仅返回来自此表中满足连接条件的那些行，即两个表中的列是相等的。外连接分为左外连接、右外连接、全外连接（Mysql 不支持）。")]),t._v(" "),s("h5",{attrs:{id:"左连接-left-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#左连接-left-join"}},[t._v("#")]),t._v(" 左连接（LEFT JOIN）")]),t._v(" "),s("p",[t._v("左外连接就是保留左表没有关联的行。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_num\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" customers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEFT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" orders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h5",{attrs:{id:"右连接-right-join"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#右连接-right-join"}},[t._v("#")]),t._v(" 右连接（RIGHT JOIN）")]),t._v(" "),s("p",[t._v("右外连接就是保留右表没有关联的行。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("order_num\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" customers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RIGHT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" customers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" orders"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cust_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"组合-union"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#组合-union"}},[t._v("#")]),t._v(" 组合（UNION）")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("UNION")]),t._v(" 运算符"),s("strong",[t._v("将两个或更多查询的结果组合起来，并生成一个结果集")]),t._v("，其中包含来自 "),s("code",[t._v("UNION")]),t._v(" 中参与查询的提取行。")])]),t._v(" "),s("p",[s("code",[t._v("UNION")]),t._v(" 基本规则：")]),t._v(" "),s("ul",[s("li",[t._v("所有查询的列数和列顺序必须相同。")]),t._v(" "),s("li",[t._v("每个查询中涉及表的列的数据类型必须相同或兼容。")]),t._v(" "),s("li",[t._v("通常返回的列名取自第一个查询。")])]),t._v(" "),s("p",[t._v("默认会去除相同行，如果需要保留相同行，使用 "),s("code",[t._v("UNION ALL")]),t._v("。")]),t._v(" "),s("p",[t._v("只能包含一个 "),s("code",[t._v("ORDER BY")]),t._v(" 子句，并且必须位于语句的最后。")]),t._v(" "),s("p",[t._v("应用场景：")]),t._v(" "),s("ul",[s("li",[t._v("在一个查询中从不同的表返回结构数据。")]),t._v(" "),s("li",[t._v("对一个表执行多个查询，按一个查询返回数据。")])]),t._v(" "),s("p",[t._v("组合查询示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cust_contact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cust_email\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" customers\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" cust_state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IL'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IN'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MI'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UNION")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cust_contact"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cust_email\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" customers\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" cust_name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Fun4All'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"join-vs-union"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#join-vs-union"}},[t._v("#")]),t._v(" JOIN vs UNION")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("JOIN")]),t._v(" 中连接表的列可能不同，但在 "),s("code",[t._v("UNION")]),t._v(" 中，所有查询的列数和列顺序必须相同。")]),t._v(" "),s("li",[s("code",[t._v("UNION")]),t._v(" 将查询之后的行放在一起（垂直放置），但 "),s("code",[t._v("JOIN")]),t._v(" 将查询之后的列放在一起（水平放置），即它构成一个笛卡尔积。")])]),t._v(" "),s("h2",{attrs:{id:"函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[t._v("#")]),t._v(" 函数")]),t._v(" "),s("blockquote",[s("p",[t._v("🔔 注意：不同数据库的函数往往各不相同，因此不可移植。本节主要以 Mysql 的函数为例。")])]),t._v(" "),s("h3",{attrs:{id:"文本处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文本处理"}},[t._v("#")]),t._v(" 文本处理")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("函数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("LEFT()")]),t._v("、"),s("code",[t._v("RIGHT()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("左边或者右边的字符")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("LOWER()")]),t._v("、"),s("code",[t._v("UPPER()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("转换为小写或者大写")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("LTRIM()")]),t._v("、"),s("code",[t._v("RTIM()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("去除左边或者右边的空格")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("LENGTH()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("长度")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("SOUNDEX()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("转换为语音值")])])])]),t._v(" "),s("p",[t._v("其中， "),s("strong",[t._v("SOUNDEX()")]),t._v(" 可以将一个字符串转换为描述其语音表示的字母数字模式。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" mytable\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" SOUNDEX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("col1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" SOUNDEX"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'apple'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"日期和时间处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日期和时间处理"}},[t._v("#")]),t._v(" 日期和时间处理")]),t._v(" "),s("ul",[s("li",[t._v("日期格式："),s("code",[t._v("YYYY-MM-DD")])]),t._v(" "),s("li",[t._v("时间格式："),s("code",[t._v("HH:MM:SS")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("函 数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说 明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("AddDate()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("增加一个日期（天、周等）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("AddTime()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("增加一个时间（时、分等）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("CurDate()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回当前日期")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("CurTime()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回当前时间")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Date()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回日期时间的日期部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("DateDiff()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("计算两个日期之差")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Date_Add()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("高度灵活的日期运算函数")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Date_Format()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个格式化的日期或时间串")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Day()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个日期的天数部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("DayOfWeek()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("对于一个日期，返回对应的星期几")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Hour()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个时间的小时部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Minute()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个时间的分钟部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Month()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个日期的月份部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Now()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回当前日期和时间")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Second()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个时间的秒部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Time()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个日期时间的时间部分")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("Year()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回一个日期的年份部分")])])])]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("NOW")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("2018-4-14 20:25:11\n")])])]),s("h3",{attrs:{id:"数值处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数值处理"}},[t._v("#")]),t._v(" 数值处理")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("函数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("SIN()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("正弦")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("COS()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("余弦")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("TAN()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("正切")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("ABS()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("绝对值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("SQRT()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("平方根")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("MOD()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("余数")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("EXP()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("指数")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("PI()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("圆周率")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("RAND()")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("随机数")])])])]),t._v(" "),s("h3",{attrs:{id:"汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#汇总"}},[t._v("#")]),t._v(" 汇总")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("函 数")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("说 明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("AVG()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回某列的平均值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("COUNT()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回某列的行数")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("MAX()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回某列的最大值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("MIN()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回某列的最小值")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("SUM()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("返回某列值之和")])])])]),t._v(" "),s("p",[s("code",[t._v("AVG()")]),t._v(" 会忽略 NULL 行。")]),t._v(" "),s("p",[t._v("使用 DISTINCT 可以让汇总函数值汇总不同的值。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("AVG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DISTINCT")]),t._v(" col1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" avg_col\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" mytable\n")])])]),s("h2",{attrs:{id:"分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分组"}},[t._v("#")]),t._v(" 分组")]),t._v(" "),s("h3",{attrs:{id:"group-by"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#group-by"}},[t._v("#")]),t._v(" GROUP BY")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("GROUP BY")]),t._v(" 子句将记录分组到汇总行中，"),s("code",[t._v("GROUP BY")]),t._v(" 为每个组返回一个记录。")])]),t._v(" "),s("p",[s("code",[t._v("GROUP BY")]),t._v(" 可以按一列或多列进行分组。")]),t._v(" "),s("p",[s("code",[t._v("GROUP BY")]),t._v(" 通常还涉及聚合函数：COUNT，MAX，SUM，AVG 等。")]),t._v(" "),s("p",[s("code",[t._v("GROUP BY")]),t._v(" 按分组字段进行排序后，"),s("code",[t._v("ORDER BY")]),t._v(" 可以以汇总字段来进行排序。")]),t._v(" "),s("p",[t._v("分组示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cust_address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" addr_num\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Customers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("分组后排序示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cust_address"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" addr_num\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Customers "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" cust_name\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ORDER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" cust_name "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DESC")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"having"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#having"}},[t._v("#")]),t._v(" HAVING")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("HAVING")]),t._v(" 用于对汇总的 "),s("code",[t._v("GROUP BY")]),t._v(" 结果进行过滤。"),s("code",[t._v("HAVING")]),t._v(" 要求存在一个 "),s("code",[t._v("GROUP BY")]),t._v(" 子句。")])]),t._v(" "),s("p",[s("code",[t._v("WHERE")]),t._v(" 和 "),s("code",[t._v("HAVING")]),t._v(" 可以在相同的查询中。")]),t._v(" "),s("p",[s("code",[t._v("HAVING")]),t._v(" vs "),s("code",[t._v("WHERE")]),t._v("：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("WHERE")]),t._v(" 和 "),s("code",[t._v("HAVING")]),t._v(" 都是用于过滤。")]),t._v(" "),s("li",[s("code",[t._v("HAVING")]),t._v(" 适用于汇总的组记录；而 "),s("code",[t._v("WHERE")]),t._v(" 适用于单个记录。")])]),t._v(" "),s("p",[t._v("使用 "),s("code",[t._v("WHERE")]),t._v(" 和 "),s("code",[t._v("HAVING")]),t._v(" 过滤数据示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" cust_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" num\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" Customers\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" cust_email "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" cust_name\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("HAVING")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("COUNT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("hr"),t._v(" "),s("p",[s("strong",[t._v("（以下为 DDL 语句用法）")])]),t._v(" "),s("h2",{attrs:{id:"事务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[t._v("#")]),t._v(" 事务")]),t._v(" "),s("p",[t._v("不能回退 "),s("code",[t._v("SELECT")]),t._v(" 语句，回退 "),s("code",[t._v("SELECT")]),t._v(" 语句也没意义；也不能回退 "),s("code",[t._v("CREATE")]),t._v(" 和 "),s("code",[t._v("DROP")]),t._v(" 语句。")]),t._v(" "),s("p",[s("strong",[t._v("MySQL 默认采用隐式提交策略（"),s("code",[t._v("autocommit")]),t._v("）")]),t._v("，每执行一条语句就把这条语句当成一个事务然后进行提交。当出现 "),s("code",[t._v("START TRANSACTION")]),t._v(" 语句时，会关闭隐式提交；当 "),s("code",[t._v("COMMIT")]),t._v(" 或 "),s("code",[t._v("ROLLBACK")]),t._v(" 语句执行后，事务会自动关闭，重新恢复隐式提交。")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v("set autocommit=0")]),t._v(" 可以取消自动提交，直到 "),s("code",[t._v("set autocommit=1")]),t._v(" 才会提交；"),s("code",[t._v("autocommit")]),t._v(" 标记是针对每个连接而不是针对服务器的。")]),t._v(" "),s("p",[t._v("事务处理指令：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("START TRANSACTION")]),t._v(" - 指令用于标记事务的起始点。")]),t._v(" "),s("li",[s("code",[t._v("SAVEPOINT")]),t._v(" - 指令用于创建保留点。")]),t._v(" "),s("li",[s("code",[t._v("ROLLBACK TO")]),t._v(" - 指令用于回滚到指定的保留点；如果没有设置保留点，则回退到 "),s("code",[t._v("START TRANSACTION")]),t._v(" 语句处。")]),t._v(" "),s("li",[s("code",[t._v("COMMIT")]),t._v(" - 提交事务。")]),t._v(" "),s("li",[s("code",[t._v("RELEASE SAVEPOINT")]),t._v("：删除某个保存点。")]),t._v(" "),s("li",[s("code",[t._v("SET TRANSACTION")]),t._v("：设置事务的隔离级别。")])]),t._v(" "),s("p",[t._v("事务处理示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 开始事务")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("START")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 插入操作 A")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx@163.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建保留点 updateA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SAVEPOINT")]),t._v(" updateA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 插入操作 B")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxx@163.com'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 回滚到保留点 updateA")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ROLLBACK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TO")]),t._v(" updateA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 提交事务，只有操作 A 生效")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMIT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"acid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#acid"}},[t._v("#")]),t._v(" ACID")]),t._v(" "),s("h3",{attrs:{id:"事务隔离级别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事务隔离级别"}},[t._v("#")]),t._v(" 事务隔离级别")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("（以下为 DCL 语句用法）")])]),t._v(" "),s("h2",{attrs:{id:"权限控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#权限控制"}},[t._v("#")]),t._v(" 权限控制")]),t._v(" "),s("p",[s("code",[t._v("GRANT")]),t._v(" 和 "),s("code",[t._v("REVOKE")]),t._v(" 可在几个层次上控制访问权限：")]),t._v(" "),s("ul",[s("li",[t._v("整个服务器，使用 "),s("code",[t._v("GRANT ALL")]),t._v(" 和 "),s("code",[t._v("REVOKE ALL")]),t._v("；")]),t._v(" "),s("li",[t._v("整个数据库，使用 ON database.*；")]),t._v(" "),s("li",[t._v("特定的表，使用 ON database.table；")]),t._v(" "),s("li",[t._v("特定的列；")]),t._v(" "),s("li",[t._v("特定的存储过程。")])]),t._v(" "),s("p",[t._v("新创建的账户没有任何权限。")]),t._v(" "),s("p",[t._v("账户用 "),s("code",[t._v("username@host")]),t._v(" 的形式定义，"),s("code",[t._v("username@%")]),t._v(" 使用的是默认主机名。")]),t._v(" "),s("p",[t._v("MySQL 的账户信息保存在 mysql 这个数据库中。")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USE")]),t._v(" mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"创建账户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建账户"}},[t._v("#")]),t._v(" 创建账户")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USER")]),t._v(" myuser IDENTIFIED "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mypassword'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"修改账户名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改账户名"}},[t._v("#")]),t._v(" 修改账户名")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newuser'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myuser'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nFLUSH "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIVILEGES")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"删除账户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除账户"}},[t._v("#")]),t._v(" 删除账户")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USER")]),t._v(" myuser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"查看权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看权限"}},[t._v("#")]),t._v(" 查看权限")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" GRANTS "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" myuser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"授予权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#授予权限"}},[t._v("#")]),t._v(" 授予权限")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GRANT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TO")]),t._v(" myuser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"删除权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除权限"}},[t._v("#")]),t._v(" 删除权限")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REVOKE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" myuser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"更改密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改密码"}},[t._v("#")]),t._v(" 更改密码")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" PASSWORD "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" myuser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mypass'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"存储过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储过程"}},[t._v("#")]),t._v(" 存储过程")]),t._v(" "),s("p",[t._v("存储过程的英文是 Stored Procedure。它可以视为一组 SQL 语句的批处理。一旦存储过程被创建出来，使用它就像使用函数一样简单，我们直接通过调用存储过程名即可。")]),t._v(" "),s("p",[t._v("定义存储过程的语法格式：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" 存储过程名称 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("参数列表"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n    需要执行的语句\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n")])])]),s("p",[t._v("存储过程定义语句类型：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("CREATE PROCEDURE")]),t._v(" 用于创建存储过程")]),t._v(" "),s("li",[s("code",[t._v("DROP PROCEDURE")]),t._v(" 用于删除存储过程")]),t._v(" "),s("li",[s("code",[t._v("ALTER PROCEDURE")]),t._v(" 用于修改存储过程")])]),t._v(" "),s("h3",{attrs:{id:"使用存储过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用存储过程"}},[t._v("#")]),t._v(" 使用存储过程")]),t._v(" "),s("p",[t._v("创建存储过程的要点：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("DELIMITER")]),t._v(" 用于定义语句的结束符")]),t._v(" "),s("li",[t._v("存储过程的 3 种参数类型：\n"),s("ul",[s("li",[s("code",[t._v("IN")]),t._v("：存储过程的入参")]),t._v(" "),s("li",[s("code",[t._v("OUT")]),t._v("：存储过程的出参")]),t._v(" "),s("li",[s("code",[t._v("INPUT")]),t._v("：既是存储过程的入参，也是存储过程的出参")])])]),t._v(" "),s("li",[t._v("流控制语句：\n"),s("ul",[s("li",[s("code",[t._v("BEGIN…END")]),t._v("："),s("code",[t._v("BEGIN…END")]),t._v(" 中间包含了多个语句，每个语句都以（"),s("code",[t._v(";")]),t._v("）号为结束符。")]),t._v(" "),s("li",[s("code",[t._v("DECLARE")]),t._v("："),s("code",[t._v("DECLARE")]),t._v(" 用来声明变量，使用的位置在于 "),s("code",[t._v("BEGIN…END")]),t._v(" 语句中间，而且需要在其他语句使用之前进行变量的声明。")]),t._v(" "),s("li",[s("code",[t._v("SET")]),t._v("：赋值语句，用于对变量进行赋值。")]),t._v(" "),s("li",[s("code",[t._v("SELECT…INTO")]),t._v("：把从数据表中查询的结果存放到变量中，也就是为变量赋值。每次只能给一个变量赋值，不支持集合的操作。")]),t._v(" "),s("li",[s("code",[t._v("IF…THEN…ENDIF")]),t._v("：条件判断语句，可以在 "),s("code",[t._v("IF…THEN…ENDIF")]),t._v(" 中使用 "),s("code",[t._v("ELSE")]),t._v(" 和 "),s("code",[t._v("ELSEIF")]),t._v(" 来进行条件判断。")]),t._v(" "),s("li",[s("code",[t._v("CASE")]),t._v("："),s("code",[t._v("CASE")]),t._v(" 语句用于多条件的分支判断。")])])])]),t._v(" "),s("p",[t._v("创建存储过程示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("proc_adder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFINER")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@`localhost`")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("proc_adder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OUT")]),t._v(" sum "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" c "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" sum  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("使用存储过程示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@b")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("call")]),t._v(" proc_adder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@s")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("@s")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" sum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"存储过程的利弊"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储过程的利弊"}},[t._v("#")]),t._v(" 存储过程的利弊")]),t._v(" "),s("p",[t._v("存储过程的优点：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("执行效率高")]),t._v("：一次编译多次使用。")]),t._v(" "),s("li",[s("strong",[t._v("安全性强")]),t._v("：在设定存储过程的时候可以设置对用户的使用权限，这样就和视图一样具有较强的安全性。")]),t._v(" "),s("li",[s("strong",[t._v("可复用")]),t._v("：将代码封装，可以提高代码复用。")]),t._v(" "),s("li",[s("strong",[t._v("性能好")]),t._v(" "),s("ul",[s("li",[t._v("由于是预先编译，因此具有很高的性能。")]),t._v(" "),s("li",[t._v("一个存储过程替代大量 T_SQL 语句 ，可以降低网络通信量，提高通信速率。")])])])]),t._v(" "),s("p",[t._v("存储过程的缺点：")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("可移植性差")]),t._v("：存储过程不能跨数据库移植。由于不同数据库的存储过程语法几乎都不一样，十分难以维护（不通用）。")]),t._v(" "),s("li",[s("strong",[t._v("调试困难")]),t._v("：只有少数 DBMS 支持存储过程的调试。对于复杂的存储过程来说，开发和维护都不容易。")]),t._v(" "),s("li",[s("strong",[t._v("版本管理困难")]),t._v("：比如数据表索引发生变化了，可能会导致存储过程失效。我们在开发软件的时候往往需要进行版本管理，但是存储过程本身没有版本控制，版本迭代更新的时候很麻烦。")]),t._v(" "),s("li",[s("strong",[t._v("不适合高并发的场景")]),t._v("：高并发的场景需要减少数据库的压力，有时数据库会采用分库分表的方式，而且对可扩展性要求很高，在这种情况下，存储过程会变得难以维护，增加数据库的压力，显然就不适用了。")])]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("综上，存储过程的优缺点都非常突出，是否使用一定要慎重，需要根据具体应用场景来权衡")]),t._v("。")])]),t._v(" "),s("h3",{attrs:{id:"触发器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发器"}},[t._v("#")]),t._v(" 触发器")]),t._v(" "),s("blockquote",[s("p",[t._v("触发器可以视为一种特殊的存储过程。")]),t._v(" "),s("p",[t._v("触发器是一种与表操作有关的数据库对象，当触发器所在表上出现指定事件时，将调用该对象，即表的操作事件触发表上的触发器的执行。")])]),t._v(" "),s("h4",{attrs:{id:"触发器特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发器特性"}},[t._v("#")]),t._v(" 触发器特性")]),t._v(" "),s("p",[t._v("可以使用触发器来进行审计跟踪，把修改记录到另外一张表中。")]),t._v(" "),s("p",[t._v("MySQL 不允许在触发器中使用 "),s("code",[t._v("CALL")]),t._v(" 语句 ，也就是不能调用存储过程。")]),t._v(" "),s("p",[s("strong",[s("code",[t._v("BEGIN")]),t._v(" 和 "),s("code",[t._v("END")])])]),t._v(" "),s("p",[t._v("当触发器的触发条件满足时，将会执行 "),s("code",[t._v("BEGIN")]),t._v(" 和 "),s("code",[t._v("END")]),t._v(" 之间的触发器执行动作。")]),t._v(" "),s("blockquote",[s("p",[t._v("🔔 注意：在 MySQL 中，分号 "),s("code",[t._v(";")]),t._v(" 是语句结束的标识符，遇到分号表示该段语句已经结束，MySQL 可以开始执行了。因此，解释器遇到触发器执行动作中的分号后就开始执行，然后会报错，因为没有找到和 BEGIN 匹配的 END。")]),t._v(" "),s("p",[t._v("这时就会用到 "),s("code",[t._v("DELIMITER")]),t._v(" 命令（"),s("code",[t._v("DELIMITER")]),t._v(" 是定界符，分隔符的意思）。它是一条命令，不需要语句结束标识，语法为："),s("code",[t._v("DELIMITER new_delemiter")]),t._v("。"),s("code",[t._v("new_delemiter")]),t._v(" 可以设为 1 个或多个长度的符号，默认的是分号 "),s("code",[t._v(";")]),t._v("，我们可以把它修改为其他符号，如 "),s("code",[t._v("$")]),t._v(" - "),s("code",[t._v("DELIMITER $")]),t._v(" 。在这之后的语句，以分号结束，解释器不会有什么反应，只有遇到了 "),s("code",[t._v("$")]),t._v("，才认为是语句结束。注意，使用完之后，我们还应该记得把它给修改回来。")])]),t._v(" "),s("p",[s("strong",[s("code",[t._v("NEW")]),t._v(" 和 "),s("code",[t._v("OLD")])])]),t._v(" "),s("ul",[s("li",[t._v("MySQL 中定义了 "),s("code",[t._v("NEW")]),t._v(" 和 "),s("code",[t._v("OLD")]),t._v(" 关键字，用来表示触发器的所在表中，触发了触发器的那一行数据。")]),t._v(" "),s("li",[t._v("在 "),s("code",[t._v("INSERT")]),t._v(" 型触发器中，"),s("code",[t._v("NEW")]),t._v(" 用来表示将要（"),s("code",[t._v("BEFORE")]),t._v("）或已经（"),s("code",[t._v("AFTER")]),t._v("）插入的新数据；")]),t._v(" "),s("li",[t._v("在 "),s("code",[t._v("UPDATE")]),t._v(" 型触发器中，"),s("code",[t._v("OLD")]),t._v(" 用来表示将要或已经被修改的原数据，"),s("code",[t._v("NEW")]),t._v(" 用来表示将要或已经修改为的新数据；")]),t._v(" "),s("li",[t._v("在 "),s("code",[t._v("DELETE")]),t._v(" 型触发器中，"),s("code",[t._v("OLD")]),t._v(" 用来表示将要或已经被删除的原数据；")]),t._v(" "),s("li",[t._v("使用方法： "),s("code",[t._v("NEW.columnName")]),t._v(" （columnName 为相应数据表某一列名）")])]),t._v(" "),s("h4",{attrs:{id:"触发器指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发器指令"}},[t._v("#")]),t._v(" 触发器指令")]),t._v(" "),s("blockquote",[s("p",[t._v("提示：为了理解触发器的要点，有必要先了解一下创建触发器的指令。")])]),t._v(" "),s("p",[s("code",[t._v("CREATE TRIGGER")]),t._v(" 指令用于创建触发器。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" trigger_name\ntrigger_time\ntrigger_event\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" table_name\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR EACH ROW")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n  trigger_statements\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("说明：")]),t._v(" "),s("ul",[s("li",[t._v("trigger_name：触发器名")]),t._v(" "),s("li",[t._v("trigger_time: 触发器的触发时机。取值为 "),s("code",[t._v("BEFORE")]),t._v(" 或 "),s("code",[t._v("AFTER")]),t._v("。")]),t._v(" "),s("li",[t._v("trigger_event: 触发器的监听事件。取值为 "),s("code",[t._v("INSERT")]),t._v("、"),s("code",[t._v("UPDATE")]),t._v(" 或 "),s("code",[t._v("DELETE")]),t._v("。")]),t._v(" "),s("li",[t._v("table_name: 触发器的监听目标。指定在哪张表上建立触发器。")]),t._v(" "),s("li",[t._v("FOR EACH ROW: 行级监视，Mysql 固定写法，其他 DBMS 不同。")]),t._v(" "),s("li",[t._v("trigger_statements: 触发器执行动作。是一条或多条 SQL 语句的列表，列表内的每条语句都必须用分号 "),s("code",[t._v(";")]),t._v(" 来结尾。")])]),t._v(" "),s("p",[t._v("创建触发器示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" $\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("trigger_insert_user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AFTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR EACH ROW")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" operate_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" operate_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NEW"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add a user'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" $\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("查看触发器示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SHOW")]),t._v(" TRIGGERS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("删除触发器示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRIGGER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),t._v(" trigger_insert_user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"游标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#游标"}},[t._v("#")]),t._v(" 游标")]),t._v(" "),s("blockquote",[s("p",[t._v("游标（CURSOR）是一个存储在 DBMS 服务器上的数据库查询，它不是一条 "),s("code",[t._v("SELECT")]),t._v(" 语句，而是被该语句检索出来的结果集。在存储过程中使用游标可以对一个结果集进行移动遍历。")])]),t._v(" "),s("p",[t._v("游标主要用于交互式应用，其中用户需要对数据集中的任意行进行浏览和修改。")]),t._v(" "),s("p",[t._v("使用游标的步骤：")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("定义游标")]),t._v("：通过 "),s("code",[t._v("DECLARE cursor_name CURSOR FOR <语句>")]),t._v(" 定义游标。这个过程没有实际检索出数据。")]),t._v(" "),s("li",[s("strong",[t._v("打开游标")]),t._v("：通过 "),s("code",[t._v("OPEN cursor_name")]),t._v(" 打开游标。")]),t._v(" "),s("li",[s("strong",[t._v("取出数据")]),t._v("：通过 "),s("code",[t._v("FETCH cursor_name INTO var_name ...")]),t._v(" 获取数据。")]),t._v(" "),s("li",[s("strong",[t._v("关闭游标")]),t._v("：通过 "),s("code",[t._v("CLOSE cursor_name")]),t._v(" 关闭游标。")]),t._v(" "),s("li",[s("strong",[t._v("释放游标")]),t._v("：通过 "),s("code",[t._v("DEALLOCATE PREPARE")]),t._v(" 释放游标。")])]),t._v(" "),s("p",[t._v("游标使用示例：")]),t._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" $\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PROCEDURE")]),t._v(" getTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BEGIN")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" total "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建接收游标数据的变量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" sid "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" sname "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建总数变量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" sage "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建结束标志变量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" done "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建游标")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" cur "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CURSOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" cursor_table "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 指定游标循环结束时的返回值")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DECLARE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CONTINUE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("HANDLER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FOR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" FOUND "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" done "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" total "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OPEN")]),t._v(" cur"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FETCH")]),t._v(" cur "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" sid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHILE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" done"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DO")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" total "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" total "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FETCH")]),t._v(" cur "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" sid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHILE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CLOSE")]),t._v(" cur"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" total"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("END")]),t._v(" $\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELIMITER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 调用存储过程")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("call")]),t._v(" getTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://book.douban.com/subject/35167240/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《SQL 必知必会》"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://draveness.me/mysql-transaction",target:"_blank",rel:"noopener noreferrer"}},[t._v("『浅入深出』MySQL 中事务的实现"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/CraryPrimitiveMan/p/4206942.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL 的学习--触发器"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/SQL",target:"_blank",rel:"noopener noreferrer"}},[t._v("维基百科词条 - SQL"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.sitesbay.com/sql/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.sitesbay.com/sql/index"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.w3resource.com/sql/subqueries/understanding-sql-subqueries.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQL Subqueries"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://stackoverflow.com/questions/6294778/mysql-quick-breakdown-of-the-types-of-joins",target:"_blank",rel:"noopener noreferrer"}},[t._v("Quick breakdown of the types of joins"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.w3resource.com/sql/sql-union.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQL UNION"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.w3resource.com/sql/database-security/create-users.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("SQL database security"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.cnblogs.com/chenpi/p/5136483.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Mysql 中的存储过程"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);